vicoo 项目技术文档 (v1.0.0)
1. 项目概述 (Project Overview)
vicoo 是一个以“视觉化协调器 (Visual Coordinator)”为核心理念的下一代个人知识库（PKM）应用。
核心愿景
它旨在打破传统笔记软件枯燥、静态的列表形式，打造一本“高性能插画书”。通过**Neubrutalism-lite（轻量新粗犷主义）**设计风格和 Rive 风格的 2D 动效，结合 AI 技术，让知识管理变得具有生命力、空间感和互动性。
核心特性
Vibe Coding: 强调“输入即分类”的心流体验。
Alive (生命感): 吉祥物 (Mascot) 和 UI 元素会根据用户状态（思考、工作、休息）进行实时反馈。
Spatial (空间感): 使用“Galaxy View”星系视图替代传统文件夹。
Proactive (主动性): AI 自动探测上下文、生成摘要并建立连接。
2. 技术栈 (Tech Stack)
框架: React 19 (使用 Functional Components + Hooks)
语言: TypeScript
样式: Tailwind CSS (高度定制配置)
图标: Google Material Icons Round
构建工具: Vite / Webpack (基于项目结构推断)
状态管理: React Context API (ThemeContext, LanguageContext)
路由: 基于状态的自定义路由 (currentView in App.tsx)
3. 视觉设计系统 (Design System)
vicoo 拥有一套独特的视觉语言，并在 index.html 的 Tailwind 配置中进行了定义。
3.1 调色板 (Palette)
采用高饱和度的扁平色（Flat Color）配合高对比度边框：
Primary (主色): #FFD166 (活力黄) - 用于强调、Focus Mode。
Secondary (辅色): #0df259 (Vibe 绿) - 用于成功状态、吉祥物眼睛。
Accent (强调色): #EF476F (波普粉) - 用于创意、连接线。
Info (信息色): #118AB2 (深邃蓝) - 用于技术文档、代码块。
Ink (墨色): #1a1a1a - 用于所有边框、阴影和主要文字。
Light/Dark: 支持完整的深色模式切换。
3.2 UI 特征
Neubrutalism-lite: 所有组件（NeoCard, NeoButton）拥有 3px 粗黑边框 (border-ink)。
Hard Shadows: 硬阴影效果 (box-shadow: 4px 4px 0px 0px #1a1a1a)，交互时有位移反馈。
Rive 风格动效: 自定义 Tailwind 动画：
animate-float: 悬浮效果。
animate-squash: 挤压变形（Q弹感）。
animate-pop: 弹窗和元素的出现动画。
animate-blink: 吉祥物眨眼。
4. 前端架构与目录结构
code
Code
/
├── components/          # 通用 UI 组件
│   ├── AnimatedLogo.tsx    # 响应式 Logo
│   ├── AnimatedPlanet.tsx  # Galaxy 视图中的节点组件
│   ├── CommandPalette.tsx  # 全局命令面板 (Ctrl/Cmd+K)
│   ├── DraggableMascot.tsx # 全局悬浮吉祥物
│   ├── Mascot.tsx          # 核心吉祥物 SVG 实现 (支持换肤)
│   ├── NeoButton.tsx       # 基础按钮组件
│   ├── NeoCard.tsx         # 基础卡片容器
│   ├── NeoModal.tsx        # 通用模态框
│   └── Sidebar.tsx         # 侧边导航栏
├── contexts/            # 全局状态上下文
│   ├── LanguageContext.tsx # 国际化 (i18n) 管理
│   └── ThemeContext.tsx    # 主题与吉祥物皮肤管理
├── pages/               # 业务页面视图
│   ├── Analytics.tsx       # 数据统计
│   ├── Dashboard.tsx       # 仪表盘 (Magic Input, Feed)
│   ├── Editor.tsx          # 笔记编辑器 (核心书写体验)
│   ├── FocusMode.tsx       # 专注模式 (番茄钟 + 白噪音)
│   ├── GalaxyView.tsx      # 知识图谱视图 (Canvas 交互)
│   ├── Habitat.tsx         # 孤儿节点管理与系统健康
│   ├── Library.tsx         # 笔记列表与筛选
│   ├── PublicGateway.tsx   # 公开展示页 (模拟 Blog)
│   ├── Search.tsx          # AI 神经搜索
│   ├── Settings.tsx        # 设置页
│   ├── Spark.tsx           # 灵感卡片抽取
│   ├── Taxonomy.tsx        # AI 自动分类建议
│   ├── Templates.tsx       # 模板中心
│   └── Timeline.tsx        # 项目时间轴
├── utils/
│   └── translations.ts     # 中英文翻译字典
├── types.ts             # TypeScript 类型定义 (View, Note, Node 等)
├── App.tsx              # 应用入口与路由分发
├── index.tsx            # React 挂载点
└── index.html           # 全局样式与字体引入
5. 核心功能模块详解
5.1 仪表盘 (Dashboard)
Magic Input (The Cortex): 位于顶部的输入框。模拟了从“输入概念” -> “Researching (API 请求)” -> “Summarizing” -> “生成笔记”的 AI 代理工作流。
Cognitive Feed: 展示当前的草稿、系统维护建议（如“Review Clusters”）和回忆唤醒。
5.2 知识图谱 (Galaxy View)
无限画布: 实现了一个支持拖拽 (Pan) 和缩放 (Zoom) 的画布系统。
节点系统: 节点被渲染为行星 (AnimatedPlanet)。
Synapse Builder (突触构建): 支持 Shift + Drag 操作，允许用户在两个节点之间手动绘制连接线。
Mock Data: 目前使用 initialNodes 和 initialLinksData 模拟数据结构。
5.3 编辑器 (Editor)
Cognitive Context Rail (右侧栏): 模拟 AI 实时扫描上下文。当用户输入特定关键词（如 "React"）时，右侧会自动浮现相关的概念解释和关联笔记。
Slash Commands: 输入 / 呼出快捷菜单（模拟）。
Auto-Summary: 点击按钮模拟生成“TL;DR”摘要。
5.4 专注模式 (Focus Mode)
转场动画: App.tsx 中实现了一个复杂的 FocusTransitionLayer，使用 FLIP 类似的动画技术，让侧边栏按钮无缝展开覆盖全屏。
功能: 内置番茄钟倒计时、沉浸式背景（随音乐律动）、白噪音播放器（模拟）。
5.5 吉祥物系统 (Mascot System)
多皮肤: 支持 Classic Bot (机器人), Cyber Cat (猫), Core Orb (光球)。
状态机: Mascot.tsx 内部通过 SVG 属性变化实现 idle, thinking, happy, working 四种状态的动画切换。
全局拖拽: DraggableMascot 允许吉祥物悬浮在所有页面之上，并可随意拖动。
5.6 国际化 (i18n)
实现了完整的 LanguageContext 和 translations.ts 字典，支持在中英文之间无缝切换。
6. 数据模型 (Data Models)
主要类型定义在 types.ts 中：
Note: 笔记实体。包含 id, title, tags, content, category, published 状态等。
Node: 图谱节点。包含 x, y 坐标，type (planet/moon), color, linkedNoteId。
Link: 图谱连线。包含 source 和 target ID。
7. 后端架构规划 (Future Backend Architecture)
当前应用为纯前端演示版（Mock Data）。为了实现完整功能，后端需实现以下服务：
服务名称	职责	涉及页面
User & Auth Service	用户认证、JWT、配置同步	Settings, Public Gateway
Note Management	笔记 CRUD、版本控制、富文本存储	Library, Editor
Knowledge Graph	存储节点坐标 (X,Y)、关系连线	Galaxy View
Neural Search (RAG)	向量数据库、语义检索、Embeddings	Search, Editor (Context)
AI Research Agent	调用 LLM 进行深度搜索和摘要生成	Dashboard (Magic Input)
Taxonomy Service	聚类算法、自动标签推荐	Taxonomy, Habitat
CLI Sync Service	处理本地文件监听与 Web 端同步	Settings (Integrations)
推荐技术栈
Server: Node.js (NestJS) 或 Go (Gin)
Database: PostgreSQL (存储元数据) + pgvector (向量存储)
AI: Python (FastAPI 包装 LLM 接口，如 Gemini/OpenAI)
Cache: Redis (用于 CLI 同步队列)
8. 安装与运行 (Installation)
本项目是标准的 React 应用。
安装依赖:
code
Bash
npm install
启动开发服务器:
code
Bash
npm start
# 或者如果使用 vite
npm run dev
访问:
打开浏览器访问 http://localhost:3000 (或控制台提示的端口)。
9. 待办事项 (Roadmap)

真实后端对接: 移除 Mock 数据，接入 RESTful/GraphQL API。

本地持久化: 在未连接后端时使用 IndexedDB 存储笔记。

Markdown 渲染: 在编辑器中引入真实的 Markdown 解析器 (如 react-markdown)。

移动端适配: 虽然使用了 Tailwind 响应式类，但 Galaxy View 等复杂视图需要针对触屏进行深度优化。